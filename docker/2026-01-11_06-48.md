# docker â€” Sun Jan 11 06:48:40 IST 2026
**Topic:** Terraform
**Style:** Enterprise tone
**Depth:** Low detail
**UniqueKeyword:** eclipse

 # Best Practice: Maintain a Lean Docker Image
Build Docker images with only the necessary components and libraries installed.

# Explanation
Minimizing the size and complexity of your Docker images can help reduce the attack surface area, improve build times, and simplify the management of your container environments. This can be achieved by using multi-stage builds, keeping your base images up-to-date, and only installing the required dependencies and libraries for your application.

# Why It Matters
- Reduces attack surface area: The fewer components installed in an image, the fewer vulnerabilities that need to be managed and mitigated.
- Improves build times: Larger images take longer to build and push, leading to increased development and deployment times.
- Simplifies container management: By keeping your images lean, it becomes easier to manage and update your container environments.

# Example
```dockerfile
# Use an official base image as a parent
FROM node:14 as builder

# Install required dependencies
RUN apt-get update \
 && apt-get install -y \
     softprobe \
 && ln -s /usr/sbin/lsof /usr/local/sbin/

# Copy the application source code
COPY . .

# Set the working directory
WORKDIR /app

# Install application dependencies using npm
RUN npm install

# Build the application
RUN npm run build

# Create a production image
FROM nginx:latest
COPY --from=builder /app/dist /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```
In this example, a multi-stage build is used to minimize the final image size. The first stage is used for building the application, while the second stage is used for creating a production image that runs the container. This approach ensures that only the necessary dependencies and libraries are installed for the application to run.
