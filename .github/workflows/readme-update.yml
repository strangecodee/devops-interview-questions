name: Update README Timestamp

on:
  schedule:
    - cron: "30 0 * * *"  # Daily at 00:30 UTC
  workflow_dispatch:

jobs:
  readme_update:
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      - name: Checkout repo
        uses: actions/checkout@v3

      - name: Update README Timestamp
        run: |
          if [ -f "README.md" ]; then
            sed -i "s/\*Last Updated:.*\*/\*Last Updated: $(date -u +'%a %b %d %H:%M:%S UTC %Y') \*/" README.md
          else
            cat > README.md << 'EOF'
# DevOps Interview Questions Repository

Welcome to the comprehensive DevOps interview preparation repository! This project automatically generates fresh DevOps content daily to help you prepare for interviews and stay updated with industry trends.

## ðŸ† Current Stats

![Updated](https://img.shields.io/badge/Updated-$(date +'%Y-%m-%d')-brightgreen)
![Interview](https://img.shields.io/badge/Interview_0-purple)
![Docker](https://img.shields.io/badge/Docker_0-blue)
![Kubernetes](https://img.shields.io/badge/K8s_0-green)
![CI/CD](https://img.shields.io/badge/CICD_0-orange)

*Last Updated: $(date -u +'%a %b %d %H:%M:%S UTC %Y')*

## ðŸ“š Content Categories

### 1. DevOps Interview Questions
- Comprehensive interview questions and answers
- Real-world scenarios and best practices
- [Browse All Interview Content](./devops-interview/)

### 2. Docker
- Containerization techniques
- Docker best practices
- Optimization strategies
- [Browse All Docker Content](./docker/)

### 3. Kubernetes
- Orchestration concepts
- Cluster management
- Advanced deployment strategies
- [Browse All Kubernetes Content](./kubernetes/)

### 4. CI/CD
- Continuous Integration/Continuous Deployment
- Pipeline optimization
- Automation strategies
- [Browse All CI/CD Content](./cicd/)

## ðŸ“Š Latest Activity
Check out our [Dashboard](./DASHBOARD.md).

## ðŸ¤– Auto-Generated Content
New content is generated daily at 00:00 UTC.

---
*This repository is automatically maintained.*
EOF
          fi

      - name: Configure Git
        run: |
          git config --global user.name "README Bot"
          git config --global user.email "bot@github.com"
          git remote set-url origin https://github-actions:${{ secrets.GITHUB_TOKEN }}@github.com/${{ github.repository }}

      - name: Commit README update
        run: |
          git add README.md
          git commit -m "docs(readme): update timestamp" || echo "No changes to commit"
          git pull --rebase origin main
          git push origin main || echo "Push failed, trying merge"
